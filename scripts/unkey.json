{"openapi":"3.1.0","info":{"title":"[v3] Waterbus Service API","description":"Open source video conferencing app built on latest WebRTC SDK. Android/iOS/MacOS/Windows/Linux/Web","contact":{"name":"Kai","email":"lambiengcode@gmail.com"},"license":{"name":"Apache-2.0"},"version":"3.0.0"},"paths":{"/busapi/v3/auth":{"get":{"tags":["auth"],"summary":"Renew Token","operationId":"signalling.features.auth.router.refresh_token","responses":{}},"post":{"tags":["auth"],"summary":"Create token","operationId":"signalling.features.auth.router.create_token","requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.auth.login_dto.LoginDto"}}}},"responses":{}}},"/busapi/v3/auth/presigned-url":{"post":{"tags":["auth"],"summary":"Get AWS-S3 or Cloudflare-R2 presigned url","operationId":"signalling.features.auth.router.generate_presigned_url","responses":{}}},"/busapi/v3/auth/token":{"post":{"tags":["auth"],"summary":"Get Oauth Token","operationId":"signalling.features.auth.router.get_oauth_token","requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.auth.oauth_dto.OauthRequestDto"}}}},"responses":{}}},"/busapi/v3/chats/conversations/{room_id}":{"delete":{"tags":["chats"],"summary":"Delete conversation","operationId":"signalling.features.chat.router.delete_conversation","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{}}},"/busapi/v3/chats/{message_id}":{"put":{"tags":["chats"],"summary":"Update message","operationId":"signalling.features.chat.router.update_message","parameters":[{"name":"message_id","in":"path","description":"Get parameter `message_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.chat.send_message_dto.SendMessageDto"}}}},"responses":{}},"delete":{"tags":["chats"],"summary":"Delete message","operationId":"signalling.features.chat.router.delete_message","parameters":[{"name":"message_id","in":"path","description":"Get parameter `message_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{}}},"/busapi/v3/chats/{room_id}":{"get":{"tags":["chats"],"summary":"Get messages by room","operationId":"signalling.features.chat.router.get_messages_by_room","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{}},"post":{"tags":["chats"],"summary":"Send message","operationId":"signalling.features.chat.router.create_message","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.chat.send_message_dto.SendMessageDto"}}}},"responses":{}}},"/busapi/v3/health-check":{"get":{"tags":["system"],"operationId":"signalling.core.api.salvo_config.health_check","responses":{}}},"/busapi/v3/rooms":{"get":{"tags":["room"],"summary":"Fetches a list of rooms filtered by user","operationId":"signalling.features.room.router.get_rooms_by_user","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{}},"post":{"tags":["room"],"summary":"Creates a new room with specified parameters.","operationId":"signalling.features.room.router.create_room","requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.room.create_room_dto.CreateRoomDto"}}}},"responses":{}}},"/busapi/v3/rooms/inactive":{"get":{"tags":["room"],"summary":"Retrieves rooms that have been archived.","operationId":"signalling.features.room.router.get_inactive_rooms","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/busapi/v3/rooms/{code}":{"get":{"tags":["room"],"summary":"Retrieves room details using a unique room code.","operationId":"signalling.features.room.router.get_room_by_code","parameters":[{"name":"code","in":"path","description":"Get parameter `code` from request url path.","required":true,"schema":{"type":"string"}}],"responses":{}}},"/busapi/v3/rooms/{room_id}":{"put":{"tags":["room"],"summary":"Updates an existing roomâ€™s details.","operationId":"signalling.features.room.router.update_room","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.room.update_room_dto.UpdateRoomDto"}}}},"responses":{}},"delete":{"tags":["room"],"summary":"Allows a user to leave an ongoing room.","operationId":"signalling.features.room.router.leave_room","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{}}},"/busapi/v3/rooms/{room_id}/deactivate":{"post":{"tags":["room"],"summary":"Archives a room, marking it as completed or no longer active.","operationId":"signalling.features.room.router.deactivate_room","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{}}},"/busapi/v3/rooms/{room_id}/join":{"post":{"tags":["room"],"summary":"Joins a room that will be requires a password (for Guess) and not if you're a member","operationId":"signalling.features.room.router.join_room","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.room.join_room_dto.JoinRoomDto"}}}},"responses":{}}},"/busapi/v3/rooms/{room_id}/members":{"post":{"tags":["room"],"summary":"Adds a new member to a room.","operationId":"signalling.features.room.router.add_member","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.room.add_member_dto.AddMemberDto"}}}},"responses":{}},"delete":{"tags":["room"],"summary":"Removes a member from a room.","operationId":"signalling.features.room.router.delete_member","parameters":[{"name":"room_id","in":"path","description":"Get parameter `room_id` from request url path.","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.room.add_member_dto.AddMemberDto"}}}},"responses":{}}},"/busapi/v3/users":{"get":{"tags":["user"],"summary":"Fetch user info","operationId":"signalling.features.user.router.get_user_by_token","responses":{}},"put":{"tags":["user"],"summary":"Update user info","operationId":"signalling.features.user.router.update_user","requestBody":{"description":"Extract json format data from request.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/signalling.core.dtos.user.update_user_dto.UpdateUserDto"}}}},"responses":{}}},"/busapi/v3/users/username/{user_name}":{"get":{"tags":["user"],"summary":"Check username whether it's already exists","operationId":"signalling.features.user.router.check_username_exists","parameters":[{"name":"user_name","in":"path","description":"Get parameter `user_name` from request url path.","required":true,"schema":{"type":"string"}}],"responses":{}},"put":{"tags":["user"],"summary":"Update username","operationId":"signalling.features.user.router.update_username","parameters":[{"name":"user_name","in":"path","description":"Get parameter `user_name` from request url path.","required":true,"schema":{"type":"string"}}],"responses":{}}},"/socket.io":{"get":{"tags":["socket.io"],"operationId":"signalling.core.socket.socket.version","responses":{"200":{"description":"Ok","content":{"text/plain":{"schema":{"type":"string"}}}}}},"post":{"tags":["socket.io"],"operationId":"signalling.core.socket.socket.version","responses":{"200":{"description":"Ok","content":{"text/plain":{"schema":{"type":"string"}}}}}},"put":{"tags":["socket.io"],"operationId":"signalling.core.socket.socket.version","responses":{"200":{"description":"Ok","content":{"text/plain":{"schema":{"type":"string"}}}}}},"patch":{"tags":["socket.io"],"operationId":"signalling.core.socket.socket.version","responses":{"200":{"description":"Ok","content":{"text/plain":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"signalling.core.dtos.auth.login_dto.LoginDto":{"type":"object","required":["fullName","externalId"],"properties":{"externalId":{"type":"string"},"fullName":{"type":"string"}},"examples":[{"externalId":"kai@waterbus","fullName":"Kai"}]},"signalling.core.dtos.auth.oauth_dto.OauthRequestDto":{"type":"object","required":["code","clientId","redirectUri"],"properties":{"clientId":{"type":"string"},"code":{"type":"string"},"redirectUri":{"type":"string"}}},"signalling.core.dtos.chat.send_message_dto.SendMessageDto":{"type":"object","required":["data"],"properties":{"data":{"type":"string"}},"examples":[{"data":"Hey, morning!"}]},"signalling.core.dtos.room.add_member_dto.AddMemberDto":{"type":"object","required":["userId"],"properties":{"userId":{"type":"integer","format":"int32"}}},"signalling.core.dtos.room.create_room_dto.CreateRoomDto":{"type":"object","required":["title","password"],"properties":{"password":{"type":"string"},"title":{"type":"string"}},"examples":[{"password":"123123","title":"Dev Daily Meeting"}]},"signalling.core.dtos.room.join_room_dto.JoinRoomDto":{"type":"object","properties":{"password":{"type":["string","null"]}}},"signalling.core.dtos.room.update_room_dto.UpdateRoomDto":{"type":"object","properties":{"avatar":{"type":["string","null"]},"password":{"type":["string","null"]},"title":{"type":["string","null"]}},"examples":[{"password":"123123","title":"Dev Daily Meeting"}]},"signalling.core.dtos.user.update_user_dto.UpdateUserDto":{"type":"object","required":["fullName"],"properties":{"avatar":{"type":["string","null"]},"bio":{"type":["string","null"]},"fullName":{"type":"string"}},"examples":[{"bio":"waterbus","fullName":"Kai"}]}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-API-Key","description":"API Key for authentication"},"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"jsonwebtoken"}}},"security":[{"ApiKeyAuth":["*"]},{"BearerAuth":["*"]}]}
